{"version":3,"file":"writeToken.js","sourceRoot":"","sources":["../../../../../../src/api/core/CredentialsFactory/_credentialsFactory/writeToken.ts"],"names":[],"mappings":";;AACA,2BAAmC;AAGtB,QAAA,UAAU,GAAG,CACxB,WAAwB,EACxB,QAA4B,EACf,EAAE;IACf,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,QAAQ,CAAC;IACxC,WAAW,CAAC,WAAW,GAAG,YAAY,CAAC,YAAY,CAAC;IACpD,WAAW,CAAC,SAAS,GAAG,YAAY,CAAC,UAAU,CAAC;IAChD,WAAW,CAAC,SAAS,GAAG,YAAY,CAAC,UAAU,CAAC;IAChD,WAAW,CAAC,YAAY,GAAG,YAAY,CAAC,aAAa,CAAC;IACtD,WAAW,CAAC,SAAS,GAAG,YAAY,CAAC,UAAU,CAAC;IAChD,WAAW,CAAC,MAAM,GAAG,GAAG,WAAW,CAAC,SAAS,GAAG,WAAW,CAAC,UAAU,EAAE,CAAC;IACzE,kBAAa,CAAC,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAErE,OAAO,WAAW,CAAC;AACrB,CAAC,CAAC","sourcesContent":["import { AxiosResponse } from 'axios';\nimport { writeFileSync } from 'fs';\nimport { Credentials } from './typescript';\n\nexport const writeToken = (\n  credentials: Credentials,\n  response: AxiosResponse<any>\n): Credentials => {\n  const { data: refreshCreds } = response;\n  credentials.accessToken = refreshCreds.access_token;\n  credentials.apiServer = refreshCreds.api_server;\n  credentials.expiresIn = refreshCreds.expires_in;\n  credentials.refreshToken = refreshCreds.refresh_token;\n  credentials.tokenType = refreshCreds.token_type;\n  credentials.apiUrl = `${credentials.apiServer}${credentials.apiVersion}`;\n  writeFileSync(credentials.keyFile, credentials.refreshToken, 'utf8');\n\n  return credentials;\n};\n"]}